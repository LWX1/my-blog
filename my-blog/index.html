<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style type="text/css" lang="stylesheet">
        /* #box {
        position: relative;
        width: 100px;
        height: 100px;
        background-color: red;
        left: 0;
       

    } */
        /* @keyframes animation {
        0% {
            left: 0
        }
        100% {
            left: calc(100% - 100px)
        }
    } */
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }

        .container img {
            width: 200px;
            height: 200px;
            margin: 20px;
        }

        .box {
            height: 100px;
            background-color: #ccc;
        }
    </style>
</head>

<body>
    <div class="box" id="btn"></div>
    <!-- <div id="box"></div> -->
    <!-- <div class="container">
        <img id="img2" src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
        <img id="img" src="./bj.png" is-loading="false"
            data-loading="https://user-gold-cdn.xitu.io/2020/3/2/17098f2cc313203e?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" />
    </div> -->
    <canvas id="canvas" width="500" height="500"></canvas>
    <script type="text/javascript">
    // var bar = 456;
    // function bar() {
    //     console.log(123)
    // }
    // console.log(bar);
    // bar = 789;
    // console.log(bar);
    // console.log(bar());
    // 提升
    var bar = function() {
        console.log(234)
    }
    var bar;
    console.log(bar)
    console.log(bar())
    bar = 789;
    console.log(bar);
    console.log(bar());
        // var a = 1;
        // var b = 2;

        // // IIFE 函数自执行，函数体内拥有终于自己的块级作用域
        // (function () {
        //     //声明变量 b
        //     var b = 0;

        //     if (true) {
        //         //因为 a 在底下声明了，故变量提升
        //         console.log(a); //  undefined
        //         //赋值 b
        //         b = 3;

        //         function b() {} //对外层作用域的 b 变量进行赋值操作
        //         b = 4;
        //         c = 5;
        //         console.log(b) // 4
        //     }

        //     var a = 6;
        //     console.log(b) // 3 
        // })()

        // console.log(a, b, c) //1，2，5

        // function Foo() {
        //     getName = function () {
        //         console.log(1);
        //     };
        //     console.log(1111111)
        //     return this;
        // }

        // Foo.getName = function () {
        //     console.log(2);
        // }

        // Foo.prototype.getName = function () {
        //     console.log(3);
        // }

        // var getName = function () {
        //     console.log(4);
        // }

        // function getName() {
        //     console.log(5);
        // }

        // Foo.getName(); 

        // getName(); 

        // Foo().getName(); 

        // getName(); 

        // new Foo.getName() 

        // new Foo().getName(); 

        // new new Foo().getName(); 


        // var img = document.querySelectorAll('#img2');
        // var index = 0;
        // var clientHeight = document.documentElement.clientHeight || document.body.clientHeight; // 视口
        // function loadingImg() {
        //     for (var i = index; i < img.length; i++) {
        //         // offsetTop-scroolTop<clientHeight
        //         var bound = img[i].getBoundingClientRect();
        //         console.log(bound)
        //         if (bound.top <= clientHeight && img[i].getAttribute('is-loading') == 'false') {
        //             index = i;
        //             lazy(img[i]);
        //         }
        //         // console.log(img[i].offsetTop, scrollHeight, clientHeight)
        //     }
        // }

        // function lazy(dom) {
        //     var url = dom.getAttribute('data-loading');
        //     dom.src = url;
        //     dom.setAttribute('is-loading', 'true');
        // }
        // loadingImg()
        // window.addEventListener('scroll', function () {
        //     loadingImg();
        // })
        // var data = [2, 4, 1, 5, 6];
        // console.log('原reduce')
        // var result = data.reduce((lastItem, currentItem,id,arr) => {
        //     console.log(lastItem, currentItem, id, arr);
        //     return lastItem+currentItem;
        // },2)
        // console.log(result);
        // console.log(data)
        // console.log('手写reduce')
        // Array.prototype.myReduce = function (fn, lastItem) {

        //     if (Object.prototype.toString.call(fn) != '[object Function]') {
        //         throw 'params not function'
        //     }
        //     var content = this;
        //     var index;
        //     var sum;
        //     index = arguments.length == 1? 1: 0;
        //     sum = arguments.length == 1? content[0]: lastItem;
        //     for (let i = index; i < content.length; i++) {
        //         sum = fn(sum, content[i], i, content);  
        //     };
        //     return sum

        // }
        // var res = data.myReduce(function (lastItem, currentItem, id, arr) {
        //     console.log(lastItem, currentItem, id, arr);
        //     return lastItem+currentItem;
        // },2)
        // console.log(res)
        // console.log(data)
        // document.getElementById('btn').addEventListener('click', function() {
        //     console.log(123)
        // })
        // var dom = document.getElementById('canvas');
        //     dom.addEventListener('click', function() {
        //         Promise.resolve().then(() => {console.log(1)})
        //         console.log(2)
        //     })
        //     dom.addEventListener('click', function() {
        //         Promise.resolve().then(() => {console.log(3)})
        //         console.log(4)
        //     })
        //     dom.click();
        // document.body.addEventListener('click', function () {
        //     console.log(window.innerHeight)
        //     console.log(document.body.clientHeight);
        //     console.log(document.documentElement.clientHeight); // 可视高度
        //     console.log(document.getElementById('img').offsetTop)
        //     console.log(document.documentElement.scrollTop)
        // })
        // var img = document.querySelectorAll('img');
        // var index = 0;
        // var clientHeight = document.documentElement.clientHeight || document.body.clientHeight; // 视口
        // function loadingImg() {
        //     for(var i = index; i < img.length; i++) {
        //         // offsetTop-scroolTop<clientHeight
        //         var bound = img[i].getBoundingClientRect();
        //         if(i==0) {console.log(bound)}
        //         if(bound.top<=clientHeight && img[i].getAttribute('is-loading') == 'false') {
        //             index = i;
        //             lazy(img[i]);
        //         }
        //         // console.log(img[i].offsetTop, scrollHeight, clientHeight)
        //     }
        // }
        // function lazy(dom) {
        //     var url = dom.getAttribute('data-loading');
        //     dom.src = url;
        //     dom.setAttribute('is-loading', 'true');
        // }
        // loadingImg()
        // window.addEventListener('scroll', function() {
        //     loadingImg();
        // })
        // const io = new IntersectionObserver(callback)
        // let imgs = document.querySelectorAll('[data-loading]') // 将图片的真实url设置为data-src src属性为占位图 元素可见时候替换src
        // function callback(entries) {

        //     entries.forEach((item) => { // 遍历entries数组
        //         console.log(item)
        //         if (item.isIntersecting) { // 当前元素可见
        //             item.target.src = item.target.dataset.loading // 替换src
        //             io.unobserve(item.target) // 停止观察当前元素 避免不可见时候再次调用callback函数
        //         }
        //     })
        // }

        // imgs.forEach((item) => { // io.observe接受一个DOM元素，添加多个监听 使用forEach
        //     io.observe(item)
        // })

        // console.log(bound)
        // getBoundingClientRect()
        // var index = 0; // 图片下标
        // var clientHeight = document.documentElement.clientHeight || document.body.clientHeight;

        // function loadingImg() {
        //     var scrollHeight = document.documentElement.scrollTop || document.body.scrollTop;
        //     for(var i = index; i < img.length; i++) {
        //         // offsetTop-scroolTop<clientHeight
        //         if(img[i].offsetTop-scrollHeight < clientHeight && img[i].getAttribute('is-loading') == 'false') {{
        //             index = i;
        //             lazy(img[i]);
        //         }}
        //         // console.log(img[i].offsetTop, scrollHeight, clientHeight)
        //     }
        // }

        // function lazy(dom) {
        //     var url = dom.getAttribute('data-loading');
        //     dom.src = url;
        //     dom.setAttribute('is-loading', 'true');
        // }
        // loadingImg();
        // window.addEventListener('scroll', function() {
        //     loadingImg();
        // })
        // class Person {
        //     constructor(name,age) {
        //         this.name = name;
        //         this.age = age;
        //     }
        //     tell() {
        //         console.log(this.name)
        //     }
        // }
        // Person.prototype.run = function() {
        //     console.log(this.name+ '跑步')
        // }
        // var person = new Person('小明',18);
        // console.log(person);
        // console.log(person.run());

        // function debounce(fn, time) {
        //     var timer = null;
        //     return function() {
        //         var self = this;
        //         var args = Array.from(arguments);
        //         timer && clearTimeout(timer);
        //         timer = setTimeout(function() {
        //             fn.apply(self, args)
        //         }, time)
        //     }
        // }
        // function fun(a) {
        //     console.log(123)
        // }

        // document.addEventListener('mousemove',debounce(fun,1000))
        // function throttle(fn, time) {

        //     var timer = null;
        //     return function() {
        //         if(timer) return;
        //         timer = setTimeout(()=>{
        //             fn.apply(this,Array.from(arguments));
        //             timer = null;
        //         },time);
        //     }

        // }
        // function fun(a) {
        //     console.log(123)
        // }

        // document.addEventListener('mousemove',throttle(fun,1000))
        // Function.prototype.myCall = function(obj) {
        //    obj.fn = this;
        //    var arg =  Array.prototype.slice.call(arguments,1);
        //    var result = obj.fn(...arg);
        //    delete obj.fn;
        //    return result
        // }
        // Function.prototype.myCall = function(thisArg, ...args) {
        //     // const fn = Symbol('fn')        // 声明一个独有的Symbol属性, 防止fn覆盖已有属性
        //     thisArg = thisArg || window    // 若没有传入this, 默认绑定window对象
        //     thisArg.fn = this              // this指向调用call的对象,即我们要改变this指向的函数
        //     const result = thisArg.fn(...args)  // 执行当前函数
        //     delete thisArg.fn              // 删除我们声明的fn属性
        //     return result                  // 返回函数执行结果
        // }
        // Function.prototype.myApply = function(obj) {
        //     obj.fn = this || window;
        //     var arg = Array.prototype.slice.call(arguments,1).flat(1);
        //     var result = obj.fn(...arg);
        //     delete obj.fn;
        //     return result
        // }
        // Function.prototype.myBind = function(obj) {
        //     var self = this;
        //     var args =  Array.prototype.slice.call(arguments,1);
        //     return function() {
        //         return self.apply(obj, args);    
        //     }
        // }

        // function fun(a,b) {
        //     this.a = a;
        //     var b = b;
        //     return this
        // }
        // obj = {
        //     a:10,
        //     b:1
        // }
        // console.log(fun.myBind(obj,20,2)())
        // console.log(fun.bind(obj,20,2)())
        // function myNew(fn, ...args) {
        //     // var obj = {};
        //     // obj.__proto__ = fn.prototype;
        //     var obj = Object.create(fn.prototype);
        //     var result = fn.apply(obj,args);
        //     return result instanceof Object? result: obj;
        // }

        // function fun(a,b) {
        //     this.a = a;
        //     var b = b;
        // }
        // console.log(new fun(10,1))
        // console.log(myNew(fun,10,1))
        // function *gener(x) {
        //     console.log(x);
        //     let res = x * (yield ('holle','123'));
        //     console.log(res)
        //     return res;
        // }
        // var g = gener(10);
        // console.log(g);
        // var g1 = g.next();
        // console.log(g1);
        // var g2 = g.next(20,5);
        // console.log(g2)
        // // console.log(g2)
        // var canvas = document.getElementById("canvas");
        // var ctx = canvas.getContext("2d");
        // console.log(ctx);
        // 矩形
        // ctx.fillStyle="red";
        // ctx.fillRect(100,100,200,100)
        // ctx.strokeStyle="red";
        // ctx.strokeRect(200,200,100,200);

        // 路径
        // ctx.beginPath();
        // ctx.moveTo(50,100);
        // ctx.lineTo(200,200);
        // ctx.lineTo(20,20);
        // ctx.lineTo(70,100);
        // ctx.closePath();
        // ctx.strokeStyle="green";
        // ctx.stroke();
        // ctx.fillStyle="orange";
        // ctx.fill();

        // 圆弧
        // function drawCtx(x, y, radiu, begin, end, direction) {
        //     ctx.beginPath();
        //     ctx.arc(x, y, radiu, begin, end, direction)
        //     ctx.strokeStyle = "green";
        //     ctx.stroke();
        //     ctx.fillStyle = "orange";
        //     ctx.fill();
        // }
        // drawCtx(100, 100, 50, 0, 2 * Math.PI, false)
        // drawCtx(250, 100, 50, 2, 3, false); // 绘制圆弧
        // drawCtx(400, 100, 50, 0, 3, false); // 绘制圆弧

        // drawCtx(100, 250, 50, 1, 8, false); // 绘制圆弧
        // drawCtx(250, 250, 50, 1, 8, true); // 绘制圆弧
        // drawCtx(400, 250, 50, 8, 10, true); // 绘制圆弧
        // let elem = document.getElementById('box');
        // let postion = true;  // true向右false向左
        // let left = 0;
        // function animation() {
        //     if(postion) {
        //         left ++;
        //         elem.style.left = left+'px';
        //         if(left > elem.offsetParent.offsetWidth-elem.offsetWidth) {
        //             postion = false;
        //         }
        //     }else {
        //         left --;
        //         elem.style.left = left+'px';
        //         if(left < 0) {
        //             postion = true;
        //         }

        //     }
        //     requestAnimationFrame(animation)
        // }
        // animation();
        // let postion = true;  // true向右false向左
        // let left = 0;
        // let timer = setInterval(function(){ 
        //     if(postion) {
        //         left ++;
        //         elem.style.left = left+'px';
        //         if(left > elem.offsetParent.offsetWidth-elem.offsetWidth) {
        //             postion = false;
        //         }
        //     }else {
        //         left --;
        //         elem.style.left = left+'px';
        //         if(left < 0) {
        //             postion = true;
        //         }

        //     }
        // },16);
        // function Parent(age,name) {
        //     this.name = name;
        //     this.age = age;
        //     this.arr = [1];
        // }
        // function Son() {
        //     this.age = 10;
        // }
        // var parent = new Parent(18, '小明');
        // Son.prototype = parent;
        // parent.name = '小绿';

        // var son = new Son()
        // console.log(son)
        // console.log(son.name);
        // console.log(son.age);
        // console.log(son.arr);
        // son.name = '笑话';
        // son.arr.push(2);

        // var son1 = new Son()
        // console.log(son1.name);
        // console.log(son1.arr);

        // Parent.prototype.say = function() {
        //     console.log(123)
        // }
        // function Parent(obj) {
        //     this.name = this.name || obj.name;
        //     this.age = this.age || obj.age;
        //     this.arr = this.arr || [1];
        // }
        // function Son(val) {
        //     this.name = '小青';
        //     Parent.call(this, val); // 核心
        // }

        // var son = new Son({
        //     age: 18,
        //     name: '小明'
        // })
        // console.log(son)
        // console.log(son.name);
        // console.log(son.age);
        // console.log(son.arr);
        // console.log(son.say);
        // son.name = '笑话';
        // son.arr.push(2);

        // var son1 = new Son({
        //     age: 16,
        //     name: '小华'
        // })
        // console.log(son1.name);
        // console.log(son1.arr);
        // console.log(son1.age);

        // function Parent(obj) {
        //     if(obj) {
        //         this.name = obj.name;
        //         this.age = obj.age;
        //     }
        //     this.arr = [1];
        // }
        // Parent.prototype.eat = function () {
        //     console.log(`${this.name}在吃饭`) // 核心)
        // }

        // function Son(val) {
        //     Parent.call(this, val); // 核心
        // }
        // Son.prototype = new Parent({
        //     name: '小花',
        //     age: 12
        // }); // 核心

        // var son = new Son({
        //     age: 18,
        //     name: '小明'
        // })
        // console.log(son)
        // console.log(son.name);
        // console.log(son.age);
        // console.log(son.arr);
        // console.log(son.eat());
        // son.name = '笑话';
        // son.arr.push(2);

        // var son1 = new Son()
        // console.log(son1);
        // console.log(son1.name);
        // console.log(son1.arr);
        // console.log(son1.age);
        // console.log(son1.eat());
        // console.log(son1.eat === son.eat);

        // function Mother(obj) {
        //     var f = function() {};
        //     f.prototype = obj;
        //     return new f();
        // }

        // function Parent(obj) {
        //     if(obj) {
        //         this.name = obj.name;
        //         this.age = obj.age;
        //     }
        //     this.arr = [1];
        // }
        // Parent.prototype.eat = function () {
        //     console.log(`${this.name}在吃饭`) // 核心
        // }

        // function Son(val) {
        //     Parent.call(this, val); // 核心
        // }
        // // Son.prototype = new Parent 拆分为下面三段代码，即去除实例拷贝的父类
        // var proto = Mother(Parent.prototype); // 核心
        // proto.constructor = Son;            // 核心
        // Son.prototype = proto;              // 核心

        // var son = new Son({
        //     age: 18,
        //     name: '小明'
        // })
        // console.log(son)
        // console.log(son.name);
        // console.log(son.age);
        // console.log(son.arr);
        // console.log(son.eat());
        // son.name = '笑话';
        // son.arr.push(2);

        // var son1 = new Son();
        // console.log(son1)
        // console.log(son1.name);
        // console.log(son1.arr);
        // console.log(son1.age);
        // console.log(son1.eat());
        // console.log(son1.eat === son.eat);

        // class Parent {
        //     constructor(age,name) {
        //         this.age = age;
        //         this.name = name;
        //     }
        //     say() {
        //         console.log('你好'+this.name)
        //     }
        // }

        // class Son extends Parent {
        //     constructor(age,name) {
        //         super(age,name)
        //     }
        // }

        // var son = new Son(14,'小明');
        // console.log(son)
        // console.log(son.say())
    </script>
</body>

</html>